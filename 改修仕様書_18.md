# 改修仕様書 18

## フェーズ1.18 - 認証APIエンドポイント作成

### 改修の目的
JWT認証のためのバックエンドAPIエンドポイントを作成する

### 改修内容

#### 1. ログインAPIの作成
```javascript
// api/auth/login.js
export default async function handler(req, res) {
  if (req.method !== 'POST') {
    return res.status(405).json({ message: 'Method not allowed' });
  }
  
  const { email, password } = req.body;
  
  // ユーザー認証
  // JWTトークン生成
  // レスポンス返却
}
```

#### 2. トークン検証APIの作成
```javascript
// api/auth/verify.js
export default async function handler(req, res) {
  const token = req.headers.authorization?.replace('Bearer ', '');
  
  try {
    const decoded = verifyToken(token);
    res.json({ valid: true, user: decoded });
  } catch (error) {
    res.status(401).json({ valid: false });
  }
}
```

#### 3. ログアウトAPIの作成
- トークン無効化処理
- セッション終了

### 影響範囲
- 新規: `api/auth/login.js`
- 新規: `api/auth/verify.js`
- 新規: `api/auth/logout.js`

### 所要時間
3-4時間

### 検証項目
- 認証APIが正常動作すること
- JWTトークンが適切に生成されること
- トークン検証が正確に動作すること

### 次のステップ
改修仕様書_19: AuthContext JWT対応