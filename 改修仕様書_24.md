# 改修仕様書 24

## フェーズ1.24 - StaffManagementバリデーション統合

### 改修の目的
スタッフ管理機能で共通バリデーションを使用し、データ品質を向上

### 改修内容

#### 1. StaffManagement.jsxの更新
```javascript
// src/pages/StaffManagement.jsx
import { validateAndSanitize } from '../utils/validation';

const StaffManagement = () => {
  const validateStaffData = (staffData) => {
    return {
      email: validateAndSanitize(staffData.email, 'email'),
      phone: validateAndSanitize(staffData.phone, 'phone'),
      name: validateAndSanitize(staffData.name, 'required'),
      role: validateAndSanitize(staffData.role, 'required')
    };
  };
  
  const handleAddStaff = async (e) => {
    e.preventDefault();
    
    const validations = validateStaffData(formData);
    const hasErrors = Object.values(validations).some(v => !v.isValid);
    
    if (hasErrors) {
      displayValidationErrors(validations);
      return;
    }
    
    // スタッフ追加処理
  };
  
  const handleEditStaff = async (staffId, updatedData) => {
    const validations = validateStaffData(updatedData);
    // 編集処理
  };
};
```

#### 2. 権限管理の強化
- 役割の有効性検証
- 権限レベルのチェック

#### 3. 一括操作の安全性
- 一括データの個別検証
- エラー箇所の明確な特定

### 影響範囲
- `src/pages/StaffManagement.jsx`

### 所要時間
2-3時間

### 検証項目
- スタッフデータの検証が正確であること
- 権限設定が適切に検証されること
- エラー表示が分かりやすいこと

### 次のステップ
改修仕様書_25: その他フォームコンポーネントバリデーション統合