# 改修仕様書 22

## フェーズ1.22 - Registerコンポーネントバリデーション統合

### 改修の目的
Register.jsxで共通バリデーションライブラリを使用し、入力検証を強化

### 改修内容

#### 1. Register.jsxの更新
```javascript
// src/components/Register.jsx
import { validateAndSanitize, validators } from '../utils/validation';

const Register = () => {
  const [errors, setErrors] = useState({});
  
  const validateField = (field, value) => {
    let validation;
    
    switch (field) {
      case 'email':
        validation = validateAndSanitize(value, 'email');
        break;
      case 'phone':
        validation = validateAndSanitize(value, 'phone');
        break;
      default:
        validation = { value, isValid: true, error: null };
    }
    
    setErrors(prev => ({
      ...prev,
      [field]: validation.error
    }));
    
    return validation;
  };
  
  const handleSubmit = (e) => {
    e.preventDefault();
    
    // 全フィールドの検証
    const validations = {
      email: validateField('email', formData.email),
      phone: validateField('phone', formData.phone)
    };
    
    const hasErrors = Object.values(validations).some(v => !v.isValid);
    
    if (!hasErrors) {
      // 登録処理
      handleRegister(validations);
    }
  };
};
```

#### 2. リアルタイムバリデーション
- フィールド離脱時の即座検証
- 視覚的フィードバック

#### 3. エラー表示の統一
- 統一されたエラーメッセージ
- アクセシブルなエラー表示

### 影響範囲
- `src/components/Register.jsx`

### 所要時間
2-3時間

### 検証項目
- バリデーションが適切に動作すること
- サニタイゼーションが実行されること
- ユーザビリティが向上していること

### 次のステップ
改修仕様書_23: AccountSettingsバリデーション統合