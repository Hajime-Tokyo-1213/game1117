# 改修仕様書 49

## フェーズ3.2 - 基本型定義ファイルの作成

### 改修の目的
アプリケーション全体で使用する型定義を作成

### 改修内容

#### 共通型定義の作成
```typescript
// src/types/common.ts
export interface User {
  id: number;
  email: string;
  role: 'admin' | 'staff' | 'customer';
  name: string;
  phone?: string;
  address?: string;
  postal_code?: string;
  created_at: string;
  updated_at: string;
}

export interface Product {
  id: number;
  name: string;
  category: string;
  model?: string;
  manufacturer?: string;
  condition_grade?: string;
  purchase_price: number;
  selling_price: number;
  stock_quantity: number;
  zaico_item_id?: string;
  zaico_data?: Record<string, any>;
  created_at: string;
  updated_at: string;
}

export interface BuybackRequest {
  id: number;
  customer_name: string;
  email: string;
  phone?: string;
  address?: string;
  postal_code?: string;
  items_description: any[];
  estimated_value: number;
  status: 'pending' | 'reviewing' | 'approved' | 'rejected' | 'completed';
  notes?: string;
  staff_id?: number;
  created_at: string;
  updated_at: string;
}
```

#### API レスポンス型定義
```typescript
// src/types/api.ts
export interface ApiResponse<T = any> {
  data?: T;
  message?: string;
  error?: boolean;
  code?: string;
}

export interface PaginatedResponse<T = any> {
  items: T[];
  total: number;
  page: number;
  limit: number;
}

export interface AuthResponse {
  token: string;
  user: User;
}
```

#### フォーム型定義
```typescript
// src/types/forms.ts
export interface LoginForm {
  email: string;
  password: string;
}

export interface RegisterForm {
  email: string;
  password: string;
  name: string;
  phone?: string;
  address?: string;
  postal_code?: string;
}

export interface ProductForm {
  name: string;
  category: string;
  model?: string;
  manufacturer?: string;
  condition_grade?: string;
  purchase_price: number;
  selling_price: number;
  stock_quantity: number;
}
```

### 影響範囲
- 新規: `src/types/`ディレクトリ
- 型定義ファイル群

### 所要時間
3-4時間

### 検証項目
- 型定義が適切であること
- 型の一貫性が保たれていること
- インポート・エクスポートが正常動作すること

### 次のステップ
改修仕様書_50: APIクライアントのTypeScript化