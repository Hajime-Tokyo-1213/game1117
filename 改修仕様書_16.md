# 改修仕様書 16

## フェーズ1.16 - CustomerLoginコンポーネント更新

### 改修の目的
カスタマーログイン機能でパスワードハッシュ化に対応する

### 改修内容

#### 1. CustomerLogin.jsxの更新
- 統一されたログイン処理の使用
- カスタマー固有のUI調整

#### 2. カスタマー向けセキュリティ
```jsx
// CustomerLogin.jsx
const handleCustomerLogin = async (e) => {
  e.preventDefault();
  
  try {
    const result = await login(email, password);
    
    if (result.user.role !== 'customer') {
      throw new Error('カスタマーアカウントでログインしてください');
    }
    
    if (result.migrated) {
      showSecurityMessage();
    }
    
    navigate('/customer-dashboard');
  } catch (error) {
    setError(error.message);
  }
}
```

#### 3. セキュリティ案内
- パスワード更新の重要性説明
- セキュリティ強化の案内

### 影響範囲
- `src/components/CustomerLogin.jsx`

### 所要時間
1-2時間

### 検証項目
- カスタマーログインが正常動作すること
- セキュリティメッセージが適切に表示されること
- 移行処理が正常に完了すること

### 次のステップ
改修仕様書_17: JWTライブラリ導入