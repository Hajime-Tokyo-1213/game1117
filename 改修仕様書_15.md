# 改修仕様書 15

## フェーズ1.15 - StaffLoginコンポーネント更新

### 改修の目的
スタッフログイン機能でもパスワードハッシュ化に対応する

### 改修内容

#### 1. StaffLogin.jsxの更新
- 共通のAuthContextを使用
- スタッフ固有のログイン処理

#### 2. 権限チェックの統合
```jsx
// StaffLogin.jsx
const handleStaffLogin = async (e) => {
  e.preventDefault();
  
  try {
    const result = await login(email, password);
    
    if (result.user.role !== 'staff') {
      throw new Error('スタッフ権限が必要です');
    }
    
    navigate('/staff-dashboard');
  } catch (error) {
    setError(error.message);
  }
}
```

#### 3. セキュリティ強化
- スタッフアカウントの特別な検証
- ログイン試行回数制限

### 影響範囲
- `src/components/StaffLogin.jsx`

### 所要時間
1-2時間

### 検証項目
- スタッフログインが正常動作すること
- 権限チェックが適切に動作すること
- パスワード移行が正常に行われること

### 次のステップ
改修仕様書_16: CustomerLoginコンポーネント更新